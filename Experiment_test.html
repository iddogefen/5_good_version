<!DOCTYPE html>
<html>
  <head>
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych-order.js"></script>
    <script src="jspsych/plugins/jspsych-html-button-response.js"></script>
    <script src="jspsych/plugins/jspsych-instructions.js"></script>
    <script src="jspsych/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych/plugins/jspsych-survey-text.js"></script>
    <script src="jspsych/plugins/jspsych-fullscreen.js"></script>
    <script src="Tools/Functions.js"></script>
    <script src="Tools/jQuery.js"></script>
    <!--<script src="jspsych/plugins/jspsych-preload.js"></script>-->


    <link rel="stylesheet" href="jspsych/css/jspsych.css">
  </head>
  <body>
</body>
  <script>
var data_folder             = 'data/Individual_data/'
var int_data_folder         = 'data/Interactive_data/'
var tools_folder            = 'Tools'

// generate a random subject ID with 15 characters
    var timeline = [];
    var rts =[];
    var events = [];
    // generate a random subject ID with 15 characters
var subject_id = new Date().toLocaleString();

// pick a random condition for the subject at the start of the experiment
var condition_assignment = jsPsych.randomization.sampleWithoutReplacement(['conditionO', 'conditionS'], 1)[0];

// record the condition assignment in the jsPsych data
// this adds a property called 'subject' and a property called 'condition' to every trial
jsPsych.data.addProperties({
  subject: subject_id,
  condition: condition_assignment
});

var trial_1 = {
  type: 'fullscreen',
  fullscreen_mode: true
}
timeline.push(trial_1);

var trial_2 = {

  type: 'instructions',
    pages: [

    '<span style="color: black; font-size: 24px"> Welcome to the experiment. Click next to begin.</span>',
    '<span style="color: black; font-size: 24px"> In this experiment, you are asked to arrange four different pictures in the correct order.</span>'  +'<br/>'+ '<span style="color: black; font-size: 24px"> Do this by dragging the images from the top row and arranging them in the correct order in the bottom row.</span>'+'<br/>'+'<br/>'+'<br/>'+'<span style="color: black; font-size: 24px"> See an example in the video presented on the next page. </span>',
    '<video src="video_test_1.mp4", autoplay="true" width="900" height="562.5"></video>', '<span style="color: black; font-size: 24px">Now try it by yourself.</span>'


       
      // '<img src="0_1.jpg" width="600" height="375"></img>'
      ],

    show_clickable_nav: true
 
}
timeline.push(trial_2);

var trial_3 = {

type: 'order',
stimuli: ['test_3','test_4','test_2','test_1'],
button_label:  'Continue when done',

}
timeline.push(trial_3);


var trial_4 = {
    type: 'instructions',
    pages: [
    '<span style="color: black; font-size: 24px"> Excellent.</span>' +'<br/>'+ '<span style="color: black; font-size: 24px"> In your free time, start the experiment.</span>'
    ],
    show_clickable_nav: true
}
timeline.push(trial_5);

    var trial_5 = {

      type: 'order',
      stimuli: ['7_3','7_1','7_4','7_2'],
      button_label:  'Continue when done',

    }
    timeline.push(trial_5);


    var trial_6 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_6);


var trial_7 = {

  type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_7);

    var trial_8 = {

      type: 'order',
      stimuli: ['2_5','2_6','2_7','2_8'],
      button_label:  'Continue when done',
    }
    timeline.push(trial_8);

    var trial_9 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_9);


var trial_10 = {

  type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_10);

var trial_11 = {

type: 'order',
stimuli: ['3_2','3_1','3_4','3_3'],
button_label:  'Continue when done',

}
timeline.push(trial_11);


var trial_12 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_12);


var trial_13 = {

type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_13);

var trial_14 = {

type: 'order',
stimuli: ['5_5','5_6','5_7','5_8'],
button_label:  'Continue when done',

}
timeline.push(trial_14);


var trial_15 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_15);


var trial_16 = {

type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_15);

var trial_17 = {

type: 'order',
stimuli: ['9_1','9_2','9_3','9_4'],
button_label:  'Continue when done',

}
timeline.push(trial_17);


var trial_18 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_18);


var trial_19 = {

type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_19);

var trial_20 = {

type: 'order',
stimuli: ['1_4','1_2','1_1','1_3'],
button_label:  'Continue when done',

}
timeline.push(trial_20);


var trial_21 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_21);


var trial_22 = {

type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_22);

var trial_23 = {

type: 'order',
stimuli: ['8_2','8_4','8_1','8_3'],
button_label:  'Continue when done',

}
timeline.push(trial_23);


var trial_24 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_24);


var trial_25 = {

type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_25);

var trial_26 = {

type: 'order',
stimuli: ['6_5','6_6','6_7','6_8'],
button_label:  'Continue when done',

}
timeline.push(trial_26);


var trial_27 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_27);


var trial_28 = {

type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_28);

var trial_29 = {

type: 'order',
stimuli: ['4_5','4_6','4_7','4_8'],
button_label:  'Continue when done',

}
timeline.push(trial_29);


var trial_30 = {

type: 'html-button-response',
stimulus: '<p>How difficult was it to order the pictures?</p>',
choices: ['very easy','easy', 'medium', 'hard', 'very hard'],
prompt: "<p> </p>"


}
timeline.push(trial_30);


var trial_31 = {

type: 'survey-text',
questions: [
{prompt: 'Briefly explain why you arranged the pictures in this order:', rows: 4}
]
}
timeline.push(trial_31);

var trial_32 = {

type: 'survey-text',
questions: [
  {prompt: 'Please insert your age'}
]
}
timeline.push(trial_32);

var trial_33 = {

  type: 'survey-text',
questions: [
  {prompt: 'please insert your gender (MALE/ FEMALE/ OTHER)'}
]

}
timeline.push(trial_33);

var trial_34 = {
    type: 'instructions',
    pages: [
    '<span style="color: black; font-size: 24px"> You have completed the experiment, thank you for your participation!</span>'
    ],
    show_clickable_nav: true
}
timeline.push(trial_34);





    jsPsych.init({
      timeline: [trial_1,trial_2, trial_3,trial_4, trial_5, trial_6, trial_7,trial_8, trial_9, trial_10, trial_11
    ,trial_12,trial_13,trial_14, trial_15,trial_16,trial_17,trial_18,trial_19,trial_20, trial_21,trial_22,trial_23,
    trial_24, trial_25, trial_26, trial_27,trial_28,trial_29,trial_30,trial_31, trial_32, trial_33,trial_34],
    
    on_finish: function() {
       // jsPsych.data.displayData();
        saveData(data_folder+'All_data/all_data_sub_'+subject_id+".csv", jsPsych.data.get().csv());
        //jsPsych.data.get().localSave('csv','mydata.csv');
        //jsPsych.data.get().localSave('csv',subject_id+'.csv');
        //save_local_data(data_folder+'All_data/all_data_sub_'+subject_id+".json", jsPsych.data.get().json());
          //save_local_data(int_data_folder+'int_data_sub_'+subject_id +".json", jsPsych.data.getInteractionData().json());
          //save_local_data_2(data_folder+'All_data/all_data_sub_'+subject_id+".json", jsPsych.data.get().json());
          //save_local_data_2(int_data_folder+'int_data_sub_'+subject_id +".json", jsPsych.data.getInteractionData().json());
          //save_server_data(data_folder+'All_data/all_data_sub_'+subject_id+".json", jsPsych.data.get().json());
          //save_server_data(int_data_folder+'int_data_sub_'+subject_id+".json", jsPsych.data.getInteractionData().json());
        } // on_finish


    })
  </script>
</html>