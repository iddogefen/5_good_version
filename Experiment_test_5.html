<!DOCTYPE html>
<html>
  <head>
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych-order.js"></script>
    <script src="jspsych/plugins/jspsych-image-button-response.js"></script>
    <script src="jspsych/plugins/jspsych-html-button-response.js"></script>
    <script src="jspsych/plugins/jspsych-instructions.js"></script>
    <script src="jspsych/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych/plugins/jspsych-survey-text.js"></script>
    <script src="jspsych/plugins/jspsych-fullscreen.js"></script>
    <script src="Tools/Functions.js"></script>
    <script src="Tools/jQuery.js"></script>
    <!--<script src="jspsych/plugins/jspsych-preload.js"></script>-->


    <link rel="stylesheet" href="jspsych/css/jspsych.css">
  </head>
  <body>
</body>
  <script>
var data_folder             = 'data/Individual_data/'
var int_data_folder         = 'data/Interactive_data/'
var tools_folder            = 'Tools'

// generate a random subject ID with 15 characters
    var timeline = [];
    var rts =[];
    var events = [];
    // generate a random subject ID with 15 characters
var subject_id = new Date().toLocaleString();

// pick a random condition for the subject at the start of the experiment
var condition_assignment = jsPsych.randomization.sampleWithoutReplacement(['conditionO', 'conditionS'], 1)[0];

// record the condition assignment in the jsPsych data
// this adds a property called 'subject' and a property called 'condition' to every trial
jsPsych.data.addProperties({
  subject: subject_id,
  condition: condition_assignment
});

var trial_1 = {
  type: 'fullscreen',
  fullscreen_mode: true
}
timeline.push(trial_1);

var trial_2 = {

  type: 'instructions',
    pages: [

    '<span style="color: black; font-size: 24px"> Welcome to the experiment. Click next to begin.</span>',
    '<span style="color: black; font-size: 24px"> In this experiment, you will be asked to look at different pictures: </span>' +'<br/>'+ '<span style="color: black; font-size: 24px">  </span>'
    +'<br/>'+ '<span style="color: black; font-size: 24px"> 1. Pictures arranged in the correct order. </span>'
    +'<br/>'+ '<span style="color: black; font-size: 24px"> 2. Pictures arranged in the wrong order. </span>'
    +'<br/>'+ '<span style="color: black; font-size: 24px"> 3. Unrelated pictures that have no specific order. </span>' +'<br/>'+ '<span style="color: black; font-size: 24px">  </span>'
    +'<br/>'+ '<span style="color: black; font-size: 24px"> Click "Next" and see an example for each of the different series. </span>',
    '<img src="images/with_order_1.jpeg" width="800" height="225"></img>', '<img src="images/with_no_order_1.jpeg" width="800" height="225"></img>', '<img src="images/with_no_no_order_1.jpeg" width="800" height="225"></img>', 
    '<span style="color: black; font-size: 24px"> During the experiment, you are asked to look at the pictures and decide </span>'
    +'<br/>'+ '<span style="color: black; font-size: 24px"> which kind of series appears on the screen (ordered, unordered or unrelated).</span>' +'<br/>'+ '<span style="color: black; font-size: 24px">  </span>'
    +'<br/>'+ '<span style="color: black; font-size: 24px">  Try it now. </span>' ],
      //'<video src="video_test_1.mp4", autoplay="true" width="900" height="562.5"></video>', '<span style="color: black; font-size: 24px">Now try it by yourself.</span>'

   

    show_clickable_nav: true
 
}
timeline.push(trial_2);

var trial_3 = {

  type: 'image-button-response',
    stimulus: ['images/with_no_order_2.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order appears on the screen?</p>"
}
timeline.push(trial_3);


var trial_4 = {
  type: 'image-button-response',
    stimulus: ['images/with_no_no_order_2.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order appears on the screen?</p>"
}
timeline.push(trial_5);

    var trial_5 = {

      type: 'image-button-response',
    stimulus: ['images/with_order_2.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order appears on the screen?</p>"

    }
    timeline.push(trial_5);


    var trial_6 = {

    type: 'instructions',
    pages: [
    '<span style="color: black; font-size: 24px"> Excellent.</span>' +'<br/>'+ '<span style="color: black; font-size: 24px"> Sometimes you will also be asked to answer a short memory test. Here is an example.</span>'
    ],
    show_clickable_nav: true

}
timeline.push(trial_6);


var trial_7 = {

    type: 'image-button-response',
    stimulus: ['images/memory_example_1.jpg',],
    stimulus_width:"480",
    stimulus_height:'270',
    choices: ['Option 1', 'Option 2'],
    prompt: "<p>What image appeared to the right side of the image in the black square?</p>"

}
timeline.push(trial_7);

    var trial_8 = {

    type: 'instructions',
    pages: [
    '<img src="images/memory_example_2.jpg" width="480" height="270"></img>', 
    '<span style="color: black; font-size: 24px"> Great.</span>' +'<br/>'+ '<span style="color: black; font-size: 24px"> In your free time, start the experiment.</span>' ],
      //'<video src="video_test_1.mp4", autoplay="true" width="900" height="562.5"></video>', '<span style="color: black; font-size: 24px">Now try it by yourself.</span>'
      show_clickable_nav: true

   

    }
    timeline.push(trial_8);

    var trial_9 = {
    
    type: 'image-button-response',
    stimulus: ['images/non_order_2.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order appears on the screen?</p>"
}
timeline.push(trial_9);


var trial_10 = {

  type: 'image-button-response',
    stimulus: ['images/scrambled_2.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order appears on the screen?</p>"

}
timeline.push(trial_10);

var trial_11 = {

    type: 'image-button-response',
    stimulus: ['images/order_2.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order appears on the screen?</p>"

}
timeline.push(trial_11);


var trial_12 = {

  type: 'image-button-response',
    stimulus: ['images/memory_1.png',],
    stimulus_width:"480",
    stimulus_height:'270',
    choices: ['Option 1', 'Option 2'],
    prompt: "<p>What image appeared to the right side of the image in the black square?</p>"


}
timeline.push(trial_12);


var trial_13 = {

    type: 'image-button-response',
    stimulus: ['images/memory_2.png',],
    stimulus_width:"480",
    stimulus_height:'270',
    choices: ['Option 1', 'Option 2'],
    prompt: "<p>What image appeared to the right side of the image in the black square?</p>"

}
timeline.push(trial_13);

var trial_14 = {

  type: 'image-button-response',
    stimulus: ['images/memory_3.png',],
    stimulus_width:"480",
    stimulus_height:'270',
    choices: ['Option 1', 'Option 2'],
    prompt: "<p>What image appeared to the right side of the image in the black square?</p>"

}
timeline.push(trial_14);


var trial_15 = {

  type: 'image-button-response',
    stimulus: ['images/scrambled_1.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order is this?</p>"


}
timeline.push(trial_15);


var trial_16 = {

  type: 'image-button-response',
    stimulus: ['images/non_order_1.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order is this?</p>"
}
timeline.push(trial_15);

var trial_17 = {

  type: 'image-button-response',
    stimulus: ['images/order_1.jpeg',],
    stimulus_width:"608",
    stimulus_height:'175' ,
    choices: ['1. Correct order', '2. Wrong order', '3. No specific order'],
    prompt: "<p>What kind of order is this?</p>"
}
timeline.push(trial_17);


var trial_18 = {


  type: 'image-button-response',
    stimulus: ['images/memory_4.png',],
    stimulus_width:"480",
    stimulus_height:'270',
    choices: ['Option 1', 'Option 2'],
    prompt: "<p>What image appeared to the right side of the image in the black square?</p>"

}
timeline.push(trial_18);


var trial_19 = {


  type: 'image-button-response',
    stimulus: ['images/memory_5.png',],
    stimulus_width:"480",
    stimulus_height:'270',
    choices: ['Option 1', 'Option 2'],
    prompt: "<p>What image appeared to the right side of the image in the black square?</p>"
    
}
timeline.push(trial_19);

var trial_20 = {


  type: 'image-button-response',
    stimulus: ['images/memory_6.png',],
    stimulus_width:"480",
    stimulus_height:'270',
    choices: ['Option 1', 'Option 2'],
    prompt: "<p>What image appeared to the right side of the image in the black square?</p>"

}
timeline.push(trial_20);


var trial_21 = {

  type: 'survey-text',
questions: [
  {prompt: 'Please insert your age'}
]

}
timeline.push(trial_21);


var trial_22 = {

  type: 'survey-text',
questions: [
  {prompt: 'please insert your gender (MALE/ FEMALE/ OTHER)'}
]

}
timeline.push(trial_22);

var trial_23 = {

  type: 'instructions',
    pages: [
    '<span style="color: black; font-size: 24px"> You have completed the experiment.'  +'<br/>'+ 'The Completion Code is : AJFHBG897' +'<br/>'+  'Thank you for your participation!</span>'
    ],

    show_clickable_nav: true
}
timeline.push(trial_23);





    jsPsych.init({
      timeline: [trial_1,trial_2, trial_3,trial_4, trial_5, trial_6, trial_7,trial_8, trial_9, trial_10, trial_11
    ,trial_12,trial_13,trial_14, trial_15,trial_16,trial_17,trial_18,trial_19,trial_20, trial_21,trial_22,trial_23],
    
    on_finish: function() {
       // jsPsych.data.displayData();
        saveData(data_folder+'All_data/all_data_sub_'+subject_id+".csv", jsPsych.data.get().csv());
        //jsPsych.data.get().localSave('csv','mydata.csv');
        //jsPsych.data.get().localSave('csv',subject_id+'.csv');
        //save_local_data(data_folder+'All_data/all_data_sub_'+subject_id+".json", jsPsych.data.get().json());
          //save_local_data(int_data_folder+'int_data_sub_'+subject_id +".json", jsPsych.data.getInteractionData().json());
          //save_local_data_2(data_folder+'All_data/all_data_sub_'+subject_id+".json", jsPsych.data.get().json());
          //save_local_data_2(int_data_folder+'int_data_sub_'+subject_id +".json", jsPsych.data.getInteractionData().json());
          //save_server_data(data_folder+'All_data/all_data_sub_'+subject_id+".json", jsPsych.data.get().json());
          //save_server_data(int_data_folder+'int_data_sub_'+subject_id+".json", jsPsych.data.getInteractionData().json());
        } // on_finish


    })
  </script>
</html>